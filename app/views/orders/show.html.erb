<% provide(:title, "Order ##{@order.id}") %>

<div class="row">
  <div class="col-lg-8 offset-lg-2">
    <div class="card m-3">
      <div class="card-body">
        
        <h4 class="card-title">
          <strong>Table:</strong>
          <%= @order.table_id %>
        </h4>
        
        <table class="table table-bordered table-hover">
          <thead>
            <th>Name</th><th>Quantity</th><th>Unit Price</th><th></th>
          </thead>
          <tbody>
            <% @items.each do |item| %>
            <tr>
              <td><%= item.edible.name %></td>
              <td><%= item.quantity %></td>
              <td><%= item.edible.price %></td>
              <td><%= link_to 'Edit', edit_item_path(item) %>
              <%= link_to 'Remove', item, method: :delete, data: { confirm: 'Are you sure?' } %>
              </td>
            </tr>
            <% end %>
            <tr><td colspan="4"><%= link_to 'Add Item', new_order_item_path(@order) %></td></tr>
          </tbody>
        </table>
        
        <p>
          <strong>Total:</strong>
          <%= @order.total %>
        </p>
        
        <p>
          <strong>Is paid:</strong>
          <%= @order.is_paid %>
        </p>
        
      </div>
    </div>
    
    <%= link_to 'Edit', edit_order_path(@order), class: 'btn btn-outline-warning ml-3' %> |
    <%= link_to 'Back', table_path(@order.table), class: 'btn btn-outline-primary' %> <br>
    <%= link_to 'All Orders', orders_path, class: 'btn btn-outline-dark m-3' %>
    
  </div>
</div>
